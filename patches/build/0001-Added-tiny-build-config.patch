From 87add3c0f0f82f903621ca21ba6fb07aaf2c3cae Mon Sep 17 00:00:00 2001
From: "itachisan@moltenmotherboard" <itachisan@moltenmotherboard>
Date: Fri, 26 Sep 2014 18:36:07 +0200
Subject: [PATCH] Added tiny build config Adapted by CM10

Change-Id: I5572fdc5a1f5dd04c4aa1a65ceef5baad0abe514
---
 target/product/tiny.mk | 222 +++++++++++++++++++++++++++++++++++++++++++++++++
 1 file changed, 222 insertions(+)
 create mode 100644 target/product/tiny.mk

diff --git a/target/product/tiny.mk b/target/product/tiny.mk
new file mode 100644
index 0000000..a3257f5
--- /dev/null
+++ b/target/product/tiny.mk
@@ -0,0 +1,222 @@
+# Copyright (C) 2012 The Android Open Source Project
+#
+# Licensed under the Apache License, Version 2.0 (the "License");
+# you may not use this file except in compliance with the License.
+# You may obtain a copy of the License at
+#
+#      http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+
+# Common configurations for tiny lunch targets
+# This is mainly for creating small system image for low-end devices.
+# Made using as base 'mini.mk', reworked with original *.mk files:
+# full_base_telephony, full_base, telephony, generic_no_telephony, core
+
+# We work on tiny
+PRODUCT_BRAND := tiny
+PRODUCT_DEVICE := tiny
+PRODUCT_NAME := tiny
+
+# Put en_US first in the list, so make it default.
+PRODUCT_LOCALES := en_US
+
+# Additional settings used in all AOSP builds
+PRODUCT_PROPERTY_OVERRIDES := \
+    keyguard.no_require_sim=true \
+    ro.com.android.dateformat=MM-dd-yyyy \
+    ro.carrier=unknown
+
+# Policy files
+PRODUCT_POLICY := android.policy_phone
+
+# User space apps
+PRODUCT_PACKAGES := \
+    ApplicationsProvider \
+    BackupRestoreConfirmation \
+    Browser \
+    Bluetooth \
+    Calculator \
+    Calendar \
+    CalendarProvider \
+    CertInstaller \
+    Contacts \
+    ContactsProvider \
+    DefaultContainerService \
+    DeskClock \
+    DownloadProvider \
+    DownloadProviderUi \
+    DrmProvider \
+    Email \
+    Exchange2 \
+    Gallery2 \
+    HTMLViewer \
+    InputDevices \
+    KeyChain \
+    LatinIME \
+    Launcher2 \
+    LiveWallpapers \
+    LiveWallpapersPicker \
+    MediaProvider \
+    Mms \
+    Music \
+    PackageInstaller \
+    Phone \
+    PicoTts \
+    Provision \
+    QuickSearchBox \
+    Settings \
+    SettingsProvider \
+    SetupWizard \
+    SharedStorageBackup \
+    SystemUI \
+    TelephonyProvider \
+    UserDictionaryProvider \
+    VisualizationWallpapers \
+    VoiceDialer \
+    VpnDialogs \
+    WAPPushManager \
+    apache-xml \
+    atrace \
+    bluetooth-health \
+    bouncycastle \
+    bu \
+    cacerts \
+    com.android.location.provider \
+    com.android.location.provider.xml \
+    core \
+    core-junit \
+    dalvikvm \
+    dexdeps \
+    dexdump \
+    dexlist \
+    dexopt \
+    dmtracedump \
+    drmserver \
+    dx \
+    ext \
+    filterfw \
+    framework2 \
+    framework-res \
+    hostapd \
+    hprof-conv \
+    icu.dat \
+    installd \
+    ip \
+    ip-up-vpn \
+    ip6tables \
+    iptables \
+    libandroidfw \
+    libOpenMAXAL \
+    libOpenSLES \
+    libaudiopreprocessing \
+    libcrypto \
+    libdrmframework \
+    libdrmframework_jni \
+    libdvm \
+    libexpat \
+    libfilterfw \
+    libfilterpack_imageproc \
+    libfwdlockengine \
+    ibgabi++ \
+    libicui18n \
+    libicuuc \
+    libnativehelper \
+    libnfc_ndef \
+    libpowermanager \
+    librs_jni \
+    libspeexresampler \
+    libsqlite_jni \
+    libssl \
+    libstagefright_soft_aacdec \
+    libstagefright_soft_amrdec \
+    libstagefright_soft_g711dec \
+    libstagefright_soft_h264dec \
+    libstagefright_soft_h264enc \
+    libstagefright_soft_mp3dec \
+    libstagefright_soft_mpeg4dec \
+    libstagefright_soft_vorbisdec \
+    libstagefright_soft_vpxdec \
+    libvariablespeed \
+    libwebrtc_audio_preprocessing \
+    libwilhelm \
+    libz \
+    make_ext4fs \
+    mdnsd \
+    requestsync \
+    rild \
+    screencap \
+    sensorservice \
+    lint \
+    uiautomator \
+    wpa_supplicant.conf \
+    audio.primary.default \
+    audio_policy.default \
+    local_time.default \
+    power.default
+
+# host-only dependencies
+ifeq ($(WITH_HOST_DALVIK),true)
+    PRODUCT_PACKAGES += \
+        apache-xml-hostdex \
+        bouncycastle-hostdex \
+        core-hostdex \
+        libcrypto \
+        libexpat \
+        libicui18n \
+        libicuuc \
+        libjavacore \
+        libssl \
+        libz-host \
+        dalvik
+endif
+
+# Bluetooth and audio effects support
+PRODUCT_COPY_FILES := \
+        system/bluetooth/data/audio.conf:system/etc/bluetooth/audio.conf \
+        system/bluetooth/data/auto_pairing.conf:system/etc/bluetooth/auto_pairing.conf \
+        system/bluetooth/data/blacklist.conf:system/etc/bluetooth/blacklist.conf \
+        system/bluetooth/data/input.conf:system/etc/bluetooth/input.conf \
+        system/bluetooth/data/network.conf:system/etc/bluetooth/network.conf \
+	frameworks/base/media/libeffects/data/audio_effects.conf:system/etc/audio_effects.conf
+
+# Get some sounds
+$(call inherit-product-if-exists, frameworks/base/data/sounds/OldAudio.mk)
+# Get the TTS language packs
+$(call inherit-product-if-exists, external/svox/pico/lang/all_pico_languages.mk)
+# Get a list of languages.
+$(call inherit-product, $(SRC_TARGET_DIR)/product/locales_full.mk)
+# Gets that fonts!
+$(call inherit-product-if-exists, frameworks/base/data/fonts/fonts.mk)
+# And also keyboard files
+$(call inherit-product-if-exists, frameworks/base/data/keyboards/keyboards.mk)
+
+## Useless fonts removed = 10 MB free
+#$(call inherit-product-if-exists, external/cibu-fonts/fonts.mk)
+#$(call inherit-product-if-exists, external/lohit-fonts/fonts.mk)
+#$(call inherit-product-if-exists, external/naver-fonts/fonts.mk)
+
+## Excluded apps as we're on GApps
+# Provision
+# QuickSearchBox
+## Keystore libs: useful?
+#keystore 
+#keystore.default 
+#libkeystore 
+## Some audio mixing related libs
+#libaudioutils 
+#libdownmix 
+## Unknown libraries
+#libjavacore
+#libmdnssd 
+## Unused stagefright codecs
+#libstagefright_soft_aacenc 
+#libstagefright_soft_amrnbenc 
+#libstagefright_soft_amrwbenc 
+#libstagefright_soft_flacenc 
+#libstagefright_soft_mpeg4enc 
+#libstagefright_soft_rawdec 
-- 
2.3.0

